<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Compare an old edited syntax tree to a new syntax tree representing the same document, returning an array of ranges whose syntactic structure has changed."><title>ts_tree_get_changed_ranges in type_sitter::raw::ffi - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Italic-81dc35de.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-MediumItalic-ccf7e434.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../../../static.files/rustdoc-1a91846b.css"><meta name="rustdoc-vars" data-root-path="../../../" data-static-root-path="../../../static.files/" data-current-crate="type_sitter" data-themes="" data-resource-suffix="" data-rustdoc-version="1.88.0 (6b00bc388 2025-06-23)" data-channel="1.88.0" data-search-js="search-f7877310.js" data-settings-js="settings-5514c975.js" ><script src="../../../static.files/storage-4e99c027.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../../static.files/main-7ef8a74a.js"></script><noscript><link rel="stylesheet" href="../../../static.files/noscript-893ab5e7.css"></noscript><link rel="alternate icon" type="image/png" href="../../../static.files/favicon-32x32-6580c154.png"><link rel="icon" type="image/svg+xml" href="../../../static.files/favicon-044be391.svg"></head><body class="rustdoc fn"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../../type_sitter/index.html">type_<wbr>sitter</a><span class="version">0.8.0</span></h2></div><div class="sidebar-elems"><div id="rustdoc-modnav"><h2><a href="index.html">In type_<wbr>sitter::<wbr>raw::<wbr>ffi</a></h2></div></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><div class="rustdoc-breadcrumbs"><a href="../../index.html">type_sitter</a>::<wbr><a href="../index.html">raw</a>::<wbr><a href="index.html">ffi</a></div><h1>Function <span class="fn">ts_tree_get_changed_ranges</span><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../../../src/tree_sitter/bindings.rs.html#322-326">Source</a> </span></div><pre class="rust item-decl"><code>pub unsafe extern &quot;C&quot; fn ts_tree_get_changed_ranges(
    old_tree: <a class="primitive" href="https://doc.rust-lang.org/1.88.0/std/primitive.pointer.html">*const </a><a class="struct" href="struct.TSTree.html" title="struct type_sitter::raw::ffi::TSTree">TSTree</a>,
    new_tree: <a class="primitive" href="https://doc.rust-lang.org/1.88.0/std/primitive.pointer.html">*const </a><a class="struct" href="struct.TSTree.html" title="struct type_sitter::raw::ffi::TSTree">TSTree</a>,
    length: <a class="primitive" href="https://doc.rust-lang.org/1.88.0/std/primitive.pointer.html">*mut </a><a class="primitive" href="https://doc.rust-lang.org/1.88.0/std/primitive.u32.html">u32</a>,
) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.88.0/std/primitive.pointer.html">*mut </a><a class="struct" href="struct.TSRange.html" title="struct type_sitter::raw::ffi::TSRange">TSRange</a></code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Compare an old edited syntax tree to a new syntax tree representing the same
document, returning an array of ranges whose syntactic structure has changed.</p>
<p>For this to work correctly, the old syntax tree must have been edited such
that its ranges match up to the new tree. Generally, youâ€™ll want to call
this function right after calling one of the <a href="fn.ts_parser_parse.html" title="fn type_sitter::raw::ffi::ts_parser_parse"><code>ts_parser_parse</code></a> functions.
You need to pass the old tree that was passed to parse, as well as the new
tree that was returned from that function.</p>
<p>The returned ranges indicate areas where the hierarchical structure of syntax
nodes (from root to leaf) has changed between the old and new trees. Characters
outside these ranges have identical ancestor nodes in both trees.</p>
<p>Note that the returned ranges may be slightly larger than the exact changed areas,
but Tree-sitter attempts to make them as small as possible.</p>
<p>The returned array is allocated using <code>malloc</code> and the caller is responsible
for freeing it using <code>free</code>. The length of the array will be written to the
given <code>length</code> pointer.</p>
</div></details></section></div></main></body></html>